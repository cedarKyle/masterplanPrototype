import Head from "next/head";
import styles from "../styles/Home.module.scss";
import { useEffect, useState } from "react";
import { createViewport } from "@shapediver/viewer";
import SdSession from "../src/components/SdSession";
import SdSessionInputs from "../src/components/SdSessionInputs";

export default function Home() {
    const benchTicket = "7aa97a891c5f7f66448dd1e6cfd5c244c54361eac2960d229818abfd632e51c353097812b8ce81611ae7522094a97575c8419d2b27ab8b84ac2a05a2b03f5413cc978b12bafc517c388c759a06cb3f58b78083454570e880eb7d2f46e7672832e415cf1d4048ca-2695d2773568f869ff9d258ab93c0cfd";
    const benchUrl = "https://sdeuc1.eu-central-1.shapediver.com";
    
    const shelfTicket = '7aa97a891c5f7f66448dd1e6cfd5c244c54361eac2960d229818abfd632e51c353097812b8ce81611ae7522094a97575c8419d2b27ab8b84ac2a05a2b03f5413cc978b12bafc517c388c759a06cb3f58b78083454570e880eb7d2f46e7672832e415cf1d4048ca-2695d2773568f869ff9d258ab93c0cfd';
    const shelfUrl = 'https://sdeuc1.eu-central-1.shapediver.com';
    
    const [ticket, setTicket] = useState(benchTicket);
    const [modelViewUrl, setModelViewUrl] = useState(benchUrl);

    const loadShapediverViewport = async () => {
        const viewport = await createViewport({
            canvas: document.getElementById("canvas") as HTMLCanvasElement,
            id: "myViewport",
        });
    };

    useEffect(() => {
        loadShapediverViewport();
    }, []);

    return (
        <div className={styles.container}>
            <Head>
                <title>Manglar Madre Design Explorer</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>

            <div className={styles.header}>
                <div className={styles.title}>
                    Welcome to{" "}
                    <a href="https://en.wikipedia.org/wiki/Tulum">
                        Manglar Madre
                    </a>
                </div>
            </div>
            <div className={styles.gridLayout}>
                <div className={styles.canvasContainer}>
                    <canvas className={styles.canvas} id="canvas"></canvas>
                </div>
                <div className={styles.inputsContainer}>
                    <SdSession
                        ticket={ticket}
                        modelViewUrl={modelViewUrl}
                    >
                        {/* 
                        TODO: Additional components to pull in from the example if we want to enable model interaction
                        <SdSessionInteractionData level={interactionLevel} interactionTypes={interactionTypes}/>
                        <SdSessionParameterBridge/>
                        <SdSessionParameterPanel/> 
                    */}
                        <SdSessionInputs/>
                    </SdSession>
                </div>
            </div>
            <div className={styles.tableContainer}> Future Table Container </div>
        </div>
    );
}
