import Head from "next/head";
import styles from "../styles/Home.module.scss";
import { useEffect, useState } from "react";
import { createViewport } from "@shapediver/viewer";
import SdSession from "../src/components/SdSession";
import SdSessionInputs from "../src/components/SdSessionInputs";

export default function Home() {
    const benchTicket = "d10301076d23c5c9a71f0ed2c6082fc4babff42354a096c8991759d9e47af84fdac1c1cc1390434ce734f289a5a25251199595f8d9d8b87a47d128d7f1ba1f6663901211031ebc83f627937f48c281b873186ec83fb5cf9bf29deddb942ebd71c7f32c92734960-4a7841b89e8d966f9d28cde76ab25339";
    const benchUrl = "https://sdeuc1.eu-central-1.shapediver.com";
    
    const shelfTicket = 'd10301076d23c5c9a71f0ed2c6082fc4babff42354a096c8991759d9e47af84fdac1c1cc1390434ce734f289a5a25251199595f8d9d8b87a47d128d7f1ba1f6663901211031ebc83f627937f48c281b873186ec83fb5cf9bf29deddb942ebd71c7f32c92734960-4a7841b89e8d966f9d28cde76ab25339';
    const shelfUrl = 'https://sdeuc1.eu-central-1.shapediver.com';
    
    const [ticket, setTicket] = useState(benchTicket);
    const [modelViewUrl, setModelViewUrl] = useState(benchUrl);

    const loadShapediverViewport = async () => {
        const viewport = await createViewport({
            canvas: document.getElementById("canvas") as HTMLCanvasElement,
            id: "myViewport",
        });
    };

    useEffect(() => {
        loadShapediverViewport();
    }, []);

    return (
        <div className={styles.container}>
            <Head>
                <title>Manglar Madre Design Explorer</title>
                <meta
                    name="description"
                    content="Generated by create next app"
                />
                <link rel="icon" href="/favicon.ico" />
            </Head>

            <div className={styles.header}>
                <div className={styles.title}>
                    Welcome to{" "}
                    <a href="https://en.wikipedia.org/wiki/Tulum">
                        Manglar Madre
                    </a>
                </div>
            </div>
            <div className={styles.gridLayout}>
                <div className={styles.canvasContainer}>
                    <canvas className={styles.canvas} id="canvas"></canvas>
                </div>
                <div className={styles.inputsContainer}>
                    <SdSession
                        ticket={ticket}
                        modelViewUrl={modelViewUrl}
                    >
                        {/* 
                        TODO: Additional components to pull in from the example if we want to enable model interaction
                        <SdSessionInteractionData level={interactionLevel} interactionTypes={interactionTypes}/>
                        <SdSessionParameterBridge/>
                        <SdSessionParameterPanel/> 
                    */}
                        <SdSessionInputs/>
                    </SdSession>
                </div>
            </div>
            <div className={styles.tableContainer}> Future Table Container </div>
        </div>
    );
}
